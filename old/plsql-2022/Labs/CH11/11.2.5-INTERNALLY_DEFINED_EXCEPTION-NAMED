DECLARE
 v_employee_id      NUMBER; 
 v_email            VARCHAR2(50);
 locked_record      EXCEPTION;
 PRAGMA EXCEPTION_INIT (locked_record, -54);
BEGIN
   v_employee_id := 'x150';
   SELECT employee_id, email INTO v_employee_id,v_email
   FROM   employees
   WHERE  employee_id = 150 
   FOR UPDATE NOWAIT;
EXCEPTION 
   WHEN locked_record THEN
     dbms_output.put_line('Employee record (150) is '||
                          'locked for upadate by another user.');
     dbms_output.put_line('Please wait or ask your '||
                     'coleauge to commit or rollback his action');
   WHEN OTHERS THEN
         dbms_output.put_line('Unexpected error');
END;
/

